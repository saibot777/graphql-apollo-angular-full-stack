{"version":3,"file":"bundle.umd.js","sources":["src/utils.js"],"sourcesContent":["var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { HttpParams, } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nexport var fetch = function (req, httpClient) {\n    var shouldUseBody = ['POST', 'PUT', 'PATCH'].indexOf(req.method.toUpperCase()) !== -1;\n    var shouldStringify = function (param) {\n        return ['variables', 'extensions'].indexOf(param.toLowerCase()) !== -1;\n    };\n    // `body` for some, `params` for others\n    var bodyOrParams = {};\n    if (req.body.length) {\n        if (!shouldUseBody) {\n            return new Observable(function (observer) {\n                return observer.error(new Error('Batching is not available for GET requests'));\n            });\n        }\n        bodyOrParams = {\n            body: req.body,\n        };\n    }\n    else {\n        if (shouldUseBody) {\n            bodyOrParams = {\n                body: req.body,\n            };\n        }\n        else {\n            var params = Object.keys(req.body).reduce(function (httpParams, param) {\n                var val = req.body[param];\n                if (shouldStringify(param.toLowerCase())) {\n                    val = JSON.stringify(val);\n                }\n                return httpParams.set(param, val);\n            }, new HttpParams());\n            bodyOrParams = { params: params };\n        }\n    }\n    // create a request\n    return httpClient.request(req.method, req.url, __assign({ observe: 'response', responseType: 'json', reportProgress: false }, bodyOrParams, req.options));\n};\nexport var mergeHeaders = function (source, destination) {\n    if (source && destination) {\n        var merged = destination\n            .keys()\n            .reduce(function (headers, name) { return headers.set(name, destination.getAll(name)); }, source);\n        return merged;\n    }\n    return destination || source;\n};\nexport function prioritize() {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    var picked = values.find(function (val) { return typeof val !== 'undefined'; });\n    if (typeof picked === 'undefined') {\n        return values[values.length - 1];\n    }\n    return picked;\n}\n//# sourceMappingURL=utils.js.map"],"names":["this","Observable","HttpParams"],"mappings":"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"}